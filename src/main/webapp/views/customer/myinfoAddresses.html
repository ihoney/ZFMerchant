<script type="text/javascript" src="js/controllers/myinfo/myinfoAddresses.js"></script>
<div class="right" ng-controller="myinfoAddressesController">
	<div class="breadcrumb">
		<ul>
			<li><a href="#/myinfobase">我的信息</a></li>
			<li><a href="#/myinfoAddresses">地址管理</a></li>
		</ul>
	</div>
	<div class="content clear">
		<div class="myInfoNav">
			<ul>
				<li><a href="#/myinfobase">基本信息</a></li>
				<li><a href="#/myinfoupdatepassword">修改密码</a></li>
				<li><a href="#/myinfoAddresses" class="hover">地址管理</a></li>
				<li><a href="#/myinfointegral">我的积分</a></li>
			</ul>
		</div>
		<div class="user_title">
			<h1>管理收货地址</h1>
		</div>
		<div class="myInfoBox">
		<form name="addAddressForm" ng-submit="save()"  >
			<ul>
			<li><label><span class="red">*</span>所在地：</label>
				<select ng-model="selected" ng-options="s.name for s in city_list" ng-change="ch_city()" required>
		              <option value="">{{selected.name}}</option>
		          </select>
				<select ng-model="selected_city" ng-options="x.name for x in selected.childrens" required>
		               <option value="">{{selected_city.name}}</option>
		          </select>
                </li>
           
                
				<li><label><span class="red">*</span>详细地址：</label> <textarea cols="" rows="" name="address"  ng-model="address.address" required></textarea>
				</li>
				<li><label><span class="red">*</span>邮政编码：</label><input type="text"  id="zipCode" name="zipCode" ng-model="address.zipCode" required  onblur="numModify(this)" placeholder="请填写邮政编码">
				 </li>
				<li><label><span class="red">*</span>收货人姓名：</label><input type="text" id="receiver" ng-model="address.receiver" required placeholder="请填写收货人姓名"></li>
				<li><label><span class="red">*</span>手机号码：</label><input type="text" id="mobile"  ng-model="address.moblephone" required  onblur="numModify(this)" placeholder="请填写手机号"></li>
				<li><label><span class="red">*</span>电话号码：</label><input type="text" id="telphone"  ng-model="address.telphone" required  onblur="numModify(this)" placeholder="请填写电话号码"></li>
				<li><label>默认地址：</label>
					<input type="radio" name="sex" value="1" ng-model="address.isDefault" />是&nbsp;&nbsp;
					<input type="radio" name="sex" value="2" ng-model="address.isDefault" checked="checked" />否</li>
			</ul>
			<div class="myInfoBox_btn">
				<input type="submit"  style="cursor: pointer;" class="orangeBtn"  value="保存">
			</div>
			</form>
		</div>
		<div class="myAddress">
			<table width="100%" border="0" cellspacing="0" cellpadding="0" class="b_table">
				<colgroup>
					<col width="80" />
					<col width="100" />
					<col width="240" />
					<col width="80" />
					<col width="80" />
					<col width="80" />
					<col width="120" />
					<col />
				</colgroup>
				<thead>
					<tr>
						<th>收货人</th>
						<th>所在地区</th>
						<th>详细地址</th>
						<th>邮编</th>
						<th>手机号码</th>
						<th>电话</th>
						<th>操作</th>
						<th>&nbsp;</th>
					</tr>
				</thead>
				<tr ng-repeat="e in addressList">
					<td>{{e.receiver}}</td>
					<td>{{e.city}}</td>
					<td>{{e.address}}</td>
					<td>{{e.zipCode}}</td>
					<td>{{e.moblephone}}</td>
					<td>{{e.telphone}}</td>
					<td><a href="javascript:void(0);" ng-click="openUpdateAddress(e)" class="a_btn">修改</a><a href="javascript:void(0);" ng-click="deleteAddress(e)" class="a_btn">删除</a></td>
					<td ng-if="e.isDefault == 1"><span class="defaultAddr">默认地址</span></td>
					<td ng-if="e.isDefault == 2"><a href="javascript:void(0);" ng-click="setDefaultAddress(e)" class="set_defaultAddr">设为默认地址</a></td>
				</tr>
			</table>
		</div>
	</div>
<script type="text/javascript">
	function numModify(obj){
		  var reg = new RegExp("^[0-9]*\.[0-9]{0,1}$");
		  if(!reg.test(obj.value)){
			 obj.value="";
		  } 
	}
	 
	</script>
</div>
</body>
</html>